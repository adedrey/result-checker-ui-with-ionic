(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{RNyp:function(n,l,t){"use strict";t.r(l);var u=t("CcnG"),e=function(){return function(){}}(),s=t("pMnS"),i=t("oBZk"),o=t("ZZ/e"),a=t("ZYCi"),r=t("Ip0R"),b=function(){function n(){}return n.prototype.ngOnInit=function(){},n}(),c=u.tb({encapsulation:0,styles:[[""]],data:{}});function g(n){return u.Qb(0,[(n()(),u.vb(0,0,null,null,11,"ion-item",[["detail",""]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==u.Hb(n,2).onClick()&&e),"click"===l&&(e=!1!==u.Hb(n,4).onClick(t)&&e),e}),i.ib,i.s)),u.ub(1,49152,null,0,o.G,[u.h,u.k,u.A],{detail:[0,"detail"]},null),u.ub(2,16384,null,0,a.n,[a.m,a.a,[8,null],u.F,u.k],{routerLink:[0,"routerLink"]},null),u.Ib(3,4),u.ub(4,737280,null,0,o.Kb,[r.j,o.Hb,u.k,a.m,[2,a.n]],null,null),(n()(),u.vb(5,0,null,0,6,"ion-label",[],null,null,null,i.jb,i.w)),u.ub(6,49152,null,0,o.M,[u.h,u.k,u.A],null,null),(n()(),u.vb(7,0,null,0,1,"h2",[],null,null,null,null,null)),(n()(),u.Ob(8,null,["",""])),(n()(),u.vb(9,0,null,0,2,"p",[],null,null,null,null,null)),(n()(),u.Ob(10,null,["Deadline: ",""])),u.Kb(11,1)],(function(n,l){n(l,1,0,"");var t=n(l,3,0,"/forum","tabs","assignments",l.context.$implicit._id);n(l,2,0,t),n(l,4,0)}),(function(n,l){n(l,8,0,l.context.$implicit.course_code);var t=u.Pb(l,10,0,n(l,11,0,u.Hb(l.parent,0),l.context.$implicit.submission_date));n(l,10,0,t)}))}function m(n){return u.Qb(0,[u.Jb(0,r.e,[u.v]),(n()(),u.kb(16777216,null,null,1,null,g)),u.ub(2,278528,null,0,r.l,[u.Q,u.N,u.t],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){n(l,2,0,l.component.assignments)}),null)}var p=t("t8u9"),h=function(){function n(n,l){this.assignmentService=n,this.loadingCtrl=l,this.assignments=[]}return n.prototype.ngOnInit=function(){var n=this;this.assignmentService.getAssignments(),this.loadingCtrl.create({spinner:"lines-small"}).then((function(l){n.assignmentService.getAssignmentChanged().subscribe((function(t){l.present(),n.assignments=t,l.dismiss()}))}))},n.prototype.refresh=function(){var n=this;this.loadingCtrl.create({spinner:"dots"}).then((function(l){l.present(),n.assignmentService.getAssignments(),l.dismiss()}))},n}(),d=u.tb({encapsulation:0,styles:[[".custom-skeleton[_ngcontent-%COMP%]   ion-skeleton-text[_ngcontent-%COMP%]{line-height:13px}.custom-skeleton[_ngcontent-%COMP%]   ion-skeleton-text[_ngcontent-%COMP%]:last-child{margin-bottom:5px}"]],data:{}});function f(n){return u.Qb(0,[(n()(),u.vb(0,0,null,null,16,"ion-header",[],null,null,null,i.bb,i.o)),u.ub(1,49152,null,0,o.A,[u.h,u.k,u.A],null,null),(n()(),u.vb(2,0,null,0,14,"ion-toolbar",[],null,null,null,i.zb,i.M)),u.ub(3,49152,null,0,o.Bb,[u.h,u.k,u.A],null,null),(n()(),u.vb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,i.Q,i.d)),u.ub(5,49152,null,0,o.k,[u.h,u.k,u.A],null,null),(n()(),u.vb(6,0,null,0,1,"ion-menu-button",[["menuId","first"]],null,null,null,i.lb,i.z)),u.ub(7,49152,null,0,o.Q,[u.h,u.k,u.A],null,null),(n()(),u.vb(8,0,null,0,5,"ion-buttons",[["slot","primary"]],null,null,null,i.Q,i.d)),u.ub(9,49152,null,0,o.k,[u.h,u.k,u.A],null,null),(n()(),u.vb(10,0,null,0,3,"ion-button",[],null,[[null,"click"]],(function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.refresh()&&u),u}),i.P,i.c)),u.ub(11,49152,null,0,o.j,[u.h,u.k,u.A],null,null),(n()(),u.vb(12,0,null,0,1,"ion-icon",[["name","refresh"],["slot","icon-only"]],null,null,null,i.cb,i.p)),u.ub(13,49152,null,0,o.B,[u.h,u.k,u.A],{name:[0,"name"]},null),(n()(),u.vb(14,0,null,0,2,"ion-title",[],null,null,null,i.yb,i.L)),u.ub(15,49152,null,0,o.zb,[u.h,u.k,u.A],null,null),(n()(),u.Ob(-1,0,["Assignment"])),(n()(),u.vb(17,0,null,null,9,"ion-content",[],null,null,null,i.X,i.k)),u.ub(18,49152,null,0,o.t,[u.h,u.k,u.A],null,null),(n()(),u.vb(19,0,null,0,7,"ion-grid",[],null,null,null,i.ab,i.n)),u.ub(20,49152,null,0,o.z,[u.h,u.k,u.A],null,null),(n()(),u.vb(21,0,null,0,5,"ion-row",[],null,null,null,i.ob,i.B)),u.ub(22,49152,null,0,o.ib,[u.h,u.k,u.A],null,null),(n()(),u.vb(23,0,null,0,3,"ion-col",[["offset-sm","2"],["size-sm","8"]],null,null,null,i.W,i.j)),u.ub(24,49152,null,0,o.s,[u.h,u.k,u.A],null,null),(n()(),u.vb(25,0,null,0,1,"app-assignment-item",[],null,null,null,m,c)),u.ub(26,114688,null,0,b,[],{assignments:[0,"assignments"]},null)],(function(n,l){var t=l.component;n(l,13,0,"refresh"),n(l,26,0,t.assignments)}),null)}function v(n){return u.Qb(0,[(n()(),u.vb(0,0,null,null,1,"app-assignments",[],null,null,null,f,d)),u.ub(1,114688,null,0,h,[p.a,o.Fb],null,null)],(function(n,l){n(l,1,0)}),null)}var k=u.rb("app-assignments",h,v,{},{},[]),A=t("gIcY"),F=function(){return t.e(31).then(t.bind(null,"SkgG")).then((function(n){return n.AssDetailPageModuleNgFactory}))},y=function(){return function(){}}();t.d(l,"AssignmentsPageModuleNgFactory",(function(){return C}));var C=u.sb(e,[],(function(n){return u.Eb([u.Fb(512,u.j,u.db,[[8,[s.a,k]],[3,u.j],u.y]),u.Fb(4608,r.o,r.n,[u.v,[2,r.B]]),u.Fb(4608,A.p,A.p,[]),u.Fb(4608,o.b,o.b,[u.A,u.g]),u.Fb(4608,o.Gb,o.Gb,[o.b,u.j,u.r]),u.Fb(4608,o.Jb,o.Jb,[o.b,u.j,u.r]),u.Fb(1073742336,r.c,r.c,[]),u.Fb(1073742336,A.o,A.o,[]),u.Fb(1073742336,A.g,A.g,[]),u.Fb(1073742336,o.Db,o.Db,[]),u.Fb(1073742336,a.p,a.p,[[2,a.u],[2,a.m]]),u.Fb(1073742336,y,y,[]),u.Fb(1073742336,e,e,[]),u.Fb(1024,a.k,(function(){return[[{path:"",component:h},{path:":assignmentId",loadChildren:F}]]}),[])])}))},t8u9:function(n,l,t){"use strict";t.d(l,"a",(function(){return g}));var u=t("26FU"),e=t("AytR"),s=t("gFX4"),i=t.n(s),o=t("xMyE"),a=t("CcnG"),r=t("t/Na"),b=e.a.apiSocketUrl,c=e.a.apiUrl,g=function(){function n(n){this.http=n,this.assignments=[],this.assignmentChanged=new u.a([])}return n.prototype.getAssignments=function(){var n=this;this.http.get(c+"user/assignments").subscribe((function(l){n.assignments=l.assignments,n.assignmentChanged.next(n.assignments)}));var l=i()(b);l.on("assignments",(function(l){"admincreate"===l.action?n.addAssignments(l.assignment):"admin_delete"===l.action&&n.deleteAssignments(l.assignmentId)})),l.on("lecturer_assignments",(function(l){"lecturercreate"===l.action?n.addAssignments(l.assignment):"delete"===l.action&&n.deleteAssignments(l.assignmentId)}))},n.prototype.addAssignments=function(n){this.assignments.unshift(n),this.assignmentChanged.next(this.assignments)},n.prototype.deleteAssignments=function(n){var l=this.assignments.slice().filter((function(l){return l._id!==n}));this.assignments=l,this.assignmentChanged.next(this.assignments)},n.prototype.getAssignmentChanged=function(){return this.assignmentChanged.asObservable()},n.prototype.getAssignmentById=function(n){return this.http.get(c+"user/assignment/"+n)},n.prototype.submitAssignment=function(n,l,t){var u=this,e=new FormData;return e.append("assignmentId",n),e.append("attachment",l),e.append("attachmentString",t),this.http.post(c+"user/assignment/submit",e).pipe(Object(o.a)((function(l){var t=u.assignments.findIndex((function(l){return l._id===n}));u.assignments[t]=l.assignment,u.assignmentChanged.next(u.assignments)})))},n.ngInjectableDef=a.Tb({factory:function(){return new n(a.Ub(r.c))},token:n,providedIn:"root"}),n}()}}]);